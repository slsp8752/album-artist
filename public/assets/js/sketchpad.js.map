{"version":3,"sources":["webpack://Sketchpad/webpack/universalModuleDefinition","webpack://Sketchpad/webpack/bootstrap","webpack://Sketchpad/./src/sketchpad.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Sketchpad","el","opts","this","sketching","_strokes","undoneStrokes","aspectRatio","lineWidth","lineColor","lineCap","lineJoin","lineMiterLimit","Error","setOptions","canvas","document","createElement","ctx","getContext","width","clientWidth","height","setCanvasSize","appendChild","length","redraw","listen","map","toObj","configurable","backgroundColor","line","size","color","cap","join","miterLimit","toJSON","strokes","loadJSON","data","strokeObjs","Stroke","fromObj","toDataURL","type","setAttribute","toString","style","getCanvasSize","setLineWidth","setLineSize","setLineColor","undo","push","pop","redo","clear","drawLine","start","end","lineOpts","getPointRelativeToCanvas","Point","x","y","pushStroke","resize","point","getLineSizeRelativeToCanvas","_a","_b","_c","_d","_e","_f","onDrawEnd","getCursorRelativeToCanvas","e","isTouchEvent","touchEvent","touches","pageX","offsetLeft","pageY","offsetTop","mouseEvent","rect","getBoundingClientRect","clientX","left","clientY","top","normalizePoint","getLineWidthRelativeToCanvas","normalizeLineWidth","clearCanvas","clearRect","fillStyle","fillRect","drawStroke","stroke","points","beginPath","moveTo","lineTo","closePath","strokeStyle","_this","forEach","addEventListener","startStrokeHandler","drawStrokeHandler","endStrokeHandler","preventDefault","indexOf","default"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAQ,wBAA0BD,IAElCD,EAAgB,UAAIC,IARtB,CASGK,QAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,G,+BCjFrDrB,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,IACtD,IAAIe,EAA2B,WAC3B,SAASA,EAAUC,EAAIC,GAUnB,GATAC,KAAKC,WAAY,EACjBD,KAAKE,SAAW,GAChBF,KAAKG,cAAgB,GACrBH,KAAKI,YAAc,EACnBJ,KAAKK,UAAY,EACjBL,KAAKM,UAAY,OACjBN,KAAKO,QAAU,QACfP,KAAKQ,SAAW,QAChBR,KAAKS,eAAiB,GACZ,MAANX,EACA,MAAM,IAAIY,MAAM,oCAER,MAARX,GACAC,KAAKW,WAAWZ,GAEpBC,KAAKY,OAASC,SAASC,cAAc,UACrCd,KAAKe,IAAMf,KAAKY,OAAOI,WAAW,MAClC,IAAIC,GAASlB,aAAmC,EAASA,EAAKkB,QAAUnB,EAAGoB,YACvEC,GAAUpB,aAAmC,EAASA,EAAKoB,SAAWF,EAAQjB,KAAKI,YACvFJ,KAAKoB,cAAcH,EAAOE,GAC1BrB,EAAGuB,YAAYrB,KAAKY,QAChBZ,KAAKE,SAASoB,OAAS,GACvBtB,KAAKuB,SAETvB,KAAKwB,SAsRT,OApRAjD,OAAOC,eAAeqB,EAAUJ,UAAW,UAAW,CAElDf,IAAK,WACD,OAAOsB,KAAKE,SAASuB,KAAI,SAAU7B,GAAK,OAAOA,EAAE8B,YAErDjD,YAAY,EACZkD,cAAc,IAElBpD,OAAOC,eAAeqB,EAAUJ,UAAW,QAAS,CAEhDf,IAAK,WACD,OAAOsB,KAAKG,cAAcsB,KAAI,SAAU7B,GAAK,OAAOA,EAAE8B,YAE1DjD,YAAY,EACZkD,cAAc,IAElBpD,OAAOC,eAAeqB,EAAUJ,UAAW,OAAQ,CAE/Cf,IAAK,WACD,MAAO,CACHkD,gBAAiB5B,KAAK4B,gBACtBX,MAAOjB,KAAKY,OAAOK,MACnBE,OAAQnB,KAAKY,OAAOO,OACpBf,YAAaJ,KAAKY,OAAOK,MAAQjB,KAAKY,OAAOO,OAC7CU,KAAM,CACFC,KAAM9B,KAAKK,UACX0B,MAAO/B,KAAKM,UACZ0B,IAAKhC,KAAKO,QACV0B,KAAMjC,KAAKQ,SACX0B,WAAYlC,KAAKS,kBAI7BhC,YAAY,EACZkD,cAAc,IAIlB9B,EAAUJ,UAAU0C,OAAS,WACzB,MAAO,CACH/B,YAAaJ,KAAKY,OAAOK,MAAQjB,KAAKY,OAAOO,OAC7CiB,QAASpC,KAAKoC,UAKtBvC,EAAUJ,UAAU4C,SAAW,SAAUC,GACrC,IAAIC,EAAaD,EAAKF,SAAW,GACjCpC,KAAKE,SAAWqC,EAAWd,KAAI,SAAU7B,GAAK,OAAO4C,EAAOC,QAAQ7C,MACpEI,KAAKuB,UAIT1B,EAAUJ,UAAUiD,UAAY,SAAUC,GACtC,OAAO3C,KAAKY,OAAO8B,UAAUC,IAGjC9C,EAAUJ,UAAU2B,cAAgB,SAAUH,EAAOE,GACjDnB,KAAKY,OAAOgC,aAAa,QAAS3B,EAAM4B,YACxC7C,KAAKY,OAAOgC,aAAa,SAAUzB,EAAO0B,YAC1C7C,KAAKY,OAAOkC,MAAM7B,MAAQA,EAAQ,KAClCjB,KAAKY,OAAOkC,MAAM3B,OAASA,EAAS,MAGxCtB,EAAUJ,UAAUsD,cAAgB,WAChC,MAAO,CACH9B,MAAOjB,KAAKY,OAAOK,MACnBE,OAAQnB,KAAKY,OAAOO,SAI5BtB,EAAUJ,UAAUuD,aAAe,SAAU/B,GACzCjB,KAAKK,UAAYY,GAIrBpB,EAAUJ,UAAUwD,YAAc,SAAUnB,GACxC9B,KAAKK,UAAYyB,GAIrBjC,EAAUJ,UAAUyD,aAAe,SAAUnB,GACzC/B,KAAKM,UAAYyB,GAIrBlC,EAAUJ,UAAU0D,KAAO,WACM,IAAzBnD,KAAKE,SAASoB,SAGlBtB,KAAKG,cAAciD,KAAKpD,KAAKE,SAASmD,OACtCrD,KAAKuB,WAGT1B,EAAUJ,UAAU6D,KAAO,WACW,IAA9BtD,KAAKG,cAAcmB,SAGvBtB,KAAKE,SAASkD,KAAKpD,KAAKG,cAAckD,OACtCrD,KAAKuB,WAGT1B,EAAUJ,UAAU8D,MAAQ,WACxBvD,KAAKG,cAAgB,GACrBH,KAAKE,SAAW,GAChBF,KAAKuB,UAGT1B,EAAUJ,UAAU+D,SAAW,SAAUC,EAAOC,EAAKC,GACjD3D,KAAKW,WAAW,CAAEkB,KAAM8B,IACxBF,EAAQzD,KAAK4D,yBAAyB,IAAIC,EAAMJ,EAAMK,EAAGL,EAAMM,IAC/DL,EAAM1D,KAAK4D,yBAAyB,IAAIC,EAAMH,EAAII,EAAGJ,EAAIK,IACzD/D,KAAKgE,WAAW,CAACP,EAAOC,IACxB1D,KAAKuB,UAGT1B,EAAUJ,UAAUwE,OAAS,SAAUhD,GACnC,IAAIE,EAASF,EAAQjB,KAAKI,YAC1BJ,KAAKK,UAAYL,KAAKK,WAAaY,EAAQjB,KAAKY,OAAOK,OACvDjB,KAAKoB,cAAcH,EAAOE,GAC1BnB,KAAKuB,UAIT1B,EAAUJ,UAAUmE,yBAA2B,SAAUM,GACrD,MAAO,CACHJ,EAAGI,EAAMJ,EAAI9D,KAAKY,OAAOK,MACzB8C,EAAGG,EAAMH,EAAI/D,KAAKY,OAAOO,SAIjCtB,EAAUJ,UAAU0E,4BAA8B,SAAUlD,GACxD,OAAOA,EAAQjB,KAAKY,OAAOK,OAE/BpB,EAAUJ,UAAUkB,WAAa,SAAUZ,GACvC,IAAIqE,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EACpB1E,EAAK6B,kBACL5B,KAAK4B,gBAAkB7B,EAAK6B,kBAEP,QAApBwC,EAAKrE,EAAK8B,YAAyB,IAAPuC,OAAgB,EAASA,EAAGtC,QACzD9B,KAAKK,UAAYN,EAAK8B,KAAKC,OAEN,QAApBuC,EAAKtE,EAAK8B,YAAyB,IAAPwC,OAAgB,EAASA,EAAGrC,OACzDhC,KAAKO,QAAUR,EAAK8B,KAAKG,MAEJ,QAApBsC,EAAKvE,EAAK8B,YAAyB,IAAPyC,OAAgB,EAASA,EAAGrC,QACzDjC,KAAKQ,SAAWT,EAAK8B,KAAKI,OAEL,QAApBsC,EAAKxE,EAAK8B,YAAyB,IAAP0C,OAAgB,EAASA,EAAGrC,cACzDlC,KAAKS,eAAiBV,EAAK8B,KAAKK,YAEhCnC,EAAKK,cACLJ,KAAKI,YAAcL,EAAKK,aAExBL,EAAKuC,OACLtC,KAAKE,SAAuI,QAA3HuE,EAAkC,QAA5BD,EAAKzE,EAAKuC,KAAKF,eAA4B,IAAPoC,OAAgB,EAASA,EAAG/C,KAAI,SAAU7B,GAAK,OAAO4C,EAAOC,QAAQ7C,aAA2B,IAAP6E,EAAgBA,EAAK,IAEzK1E,EAAK2E,YACL1E,KAAK0E,UAAY3E,EAAK2E,YAK9B7E,EAAUJ,UAAUkF,0BAA4B,SAAUC,GACtD,IAAIV,EACJ,GAAIW,EAAaD,GAAI,CACjB,IAAIE,EAAaF,EACjBV,EAAQ,IAAIL,EAAMiB,EAAWC,QAAQ,GAAGC,MAAQhF,KAAKY,OAAOqE,WAAYH,EAAWC,QAAQ,GAAGG,MAAQlF,KAAKY,OAAOuE,eAEjH,CACD,IAAIC,EAAaR,EACbS,EAAOrF,KAAKY,OAAO0E,wBACvBpB,EAAQ,IAAIL,EAAMuB,EAAWG,QAAUF,EAAKG,KAAMJ,EAAWK,QAAUJ,EAAKK,KAEhF,OAAO,IAAI7B,EAAMK,EAAMJ,EAAI9D,KAAKY,OAAOK,MAAOiD,EAAMH,EAAI/D,KAAKY,OAAOO,SAExEtB,EAAUJ,UAAUkG,eAAiB,SAAUhG,GAC3C,OAAO,IAAIkE,EAAMlE,EAAEmE,EAAI9D,KAAKY,OAAOK,MAAOtB,EAAEoE,EAAI/D,KAAKY,OAAOO,SAEhEtB,EAAUJ,UAAUmG,6BAA+B,SAAU9D,GACzD,OAAOA,EAAO9B,KAAKY,OAAOK,OAE9BpB,EAAUJ,UAAUoG,mBAAqB,SAAU5E,GAC/C,OAAOA,EAAQjB,KAAKY,OAAOK,OAG/BpB,EAAUJ,UAAUqG,YAAc,WAC9B9F,KAAKe,IAAIgF,UAAU,EAAG,EAAG/F,KAAKY,OAAOK,MAAOjB,KAAKY,OAAOO,QACpDnB,KAAK4B,kBACL5B,KAAKe,IAAIiF,UAAYhG,KAAK4B,gBAC1B5B,KAAKe,IAAIkF,SAAS,EAAG,EAAGjG,KAAKY,OAAOK,MAAOjB,KAAKY,OAAOO,UAI/DtB,EAAUJ,UAAUyG,WAAa,SAAUC,GACvC,GAAqB,MAAjBA,EAAOC,OAAX,CAEApG,KAAKe,IAAIsF,YACT,IAAK,IAAIxI,EAAI,EAAGA,EAAIsI,EAAOC,OAAO9E,OAAS,EAAGzD,IAAK,CAC/C,IAAI4F,EAAQzD,KAAK2F,eAAeQ,EAAOC,OAAOvI,IAC1C6F,EAAM1D,KAAK2F,eAAeQ,EAAOC,OAAOvI,EAAI,IAChDmC,KAAKe,IAAIuF,OAAO7C,EAAMK,EAAGL,EAAMM,GAC/B/D,KAAKe,IAAIwF,OAAO7C,EAAII,EAAGJ,EAAIK,GAE/B/D,KAAKe,IAAIyF,YACLL,EAAOpE,QACP/B,KAAKe,IAAI0F,YAAcN,EAAOpE,OAE9BoE,EAAOlF,QACPjB,KAAKe,IAAIV,UAAYL,KAAK6F,mBAAmBM,EAAOlF,QAEpDkF,EAAOlE,OACPjC,KAAKe,IAAIP,SAAW2F,EAAOlE,MAE3BkE,EAAOnE,MACPhC,KAAKe,IAAIR,QAAU4F,EAAOnE,KAE1BmE,EAAOjE,aACPlC,KAAKe,IAAImB,WAAaiE,EAAOjE,YAEjClC,KAAKe,IAAIoF,WAEbtG,EAAUJ,UAAUuE,WAAa,SAAUoC,GACvCpG,KAAKE,SAASkD,KAAKZ,EAAOC,QAAQ,CAC9B2D,OAAQA,EACRtE,KAAM9B,KAAK4F,6BAA6B5F,KAAKK,WAC7C0B,MAAO/B,KAAKM,UACZ0B,IAAKhC,KAAKO,QACV0B,KAAMjC,KAAKQ,SACX0B,WAAYlC,KAAKS,mBAIzBZ,EAAUJ,UAAU8B,OAAS,WACzB,IAAImF,EAAQ1G,KACZA,KAAK8F,cACL9F,KAAKE,SAASyG,SAAQ,SAAU/G,GAAK,OAAO8G,EAAMR,WAAWtG,OAEjEC,EAAUJ,UAAU+B,OAAS,WACzB,IAAIkF,EAAQ1G,KACZ,CAAC,YAAa,cAAc2G,SAAQ,SAAUvI,GAAQ,OAAOsI,EAAM9F,OAAOgG,iBAAiBxI,GAAM,SAAUwG,GAAK,OAAO8B,EAAMG,mBAAmBjC,SAChJ,CAAC,YAAa,aAAa+B,SAAQ,SAAUvI,GAAQ,OAAOsI,EAAM9F,OAAOgG,iBAAiBxI,GAAM,SAAUwG,GAAK,OAAO8B,EAAMI,kBAAkBlC,SAC9I,CAAC,UAAW,aAAc,YAAY+B,SAAQ,SAAUvI,GAAQ,OAAOsI,EAAM9F,OAAOgG,iBAAiBxI,GAAM,SAAUwG,GAAK,OAAO8B,EAAMK,iBAAiBnC,UAE5J/E,EAAUJ,UAAUoH,mBAAqB,SAAUjC,GAC/CA,EAAEoC,iBACFhH,KAAKC,WAAY,EACjB,IAAIiE,EAAQlE,KAAK2E,0BAA0BC,GAC3C5E,KAAKgE,WAAW,CAACE,IACjBlE,KAAKuB,UAET1B,EAAUJ,UAAUqH,kBAAoB,SAAUlC,GAC9C,IAAIR,EAEJ,GADAQ,EAAEoC,iBACGhH,KAAKC,UAAV,CAEA,IAAIiE,EAAQlE,KAAK2E,0BAA0BC,GACe,QAAzDR,EAAKpE,KAAKE,SAASF,KAAKE,SAASoB,OAAS,GAAG8E,cAA2B,IAAPhC,GAAyBA,EAAGhB,KAAKc,GACnGlE,KAAKuB,WAET1B,EAAUJ,UAAUsH,iBAAmB,SAAUnC,GAC7C,IAAIR,EAEJ,GADAQ,EAAEoC,iBACGhH,KAAKC,YAEVD,KAAKC,WAAY,GACb4E,EAAaD,IAAjB,CAGA,IAAIV,EAAQlE,KAAK2E,0BAA0BC,GACe,QAAzDR,EAAKpE,KAAKE,SAASF,KAAKE,SAASoB,OAAS,GAAG8E,cAA2B,IAAPhC,GAAyBA,EAAGhB,KAAKc,GACnGlE,KAAKuB,SACDvB,KAAK0E,WACL1E,KAAK0E,cAGN7E,EAhTmB,GAmT9B,SAASgF,EAAaD,GAClB,OAAoC,IAA7BA,EAAEjC,KAAKsE,QAAQ,SAF1B5J,EAAQ6J,QAAUrH,EAIlB,IAAIgE,EACA,SAAeC,EAAGC,GACd/D,KAAK8D,EAAIA,EACT9D,KAAK+D,EAAIA,GAIbvB,EAAwB,WACxB,SAASA,KAsBT,OApBAA,EAAOC,QAAU,SAAU7C,GACvB,IAAIuG,EAAS,IAAI3D,EAOjB,OANA2D,EAAOC,OAASxG,EAAEwG,OAClBD,EAAOlF,MAAQrB,EAAEkC,KACjBqE,EAAOpE,MAAQnC,EAAEmC,MACjBoE,EAAOnE,IAAMpC,EAAEoC,IACfmE,EAAOlE,KAAOrC,EAAEqC,KAChBkE,EAAOjE,WAAatC,EAAEsC,WACfiE,GAEX3D,EAAO/C,UAAUiC,MAAQ,WACrB,MAAO,CACH0E,OAAQpG,KAAKoG,OACbtE,KAAM9B,KAAKiB,MACXc,MAAO/B,KAAK+B,MACZC,IAAKhC,KAAKgC,IACVC,KAAMjC,KAAKiC,KACXC,WAAYlC,KAAKkC,aAGlBM,EAvBgB,M","file":"sketchpad.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"responsive-sketchpad\"] = factory();\n\telse\n\t\troot[\"Sketchpad\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Sketchpad = /** @class */ (function () {\n    function Sketchpad(el, opts) {\n        this.sketching = false;\n        this._strokes = []; // v2.0 - Rename to strokes\n        this.undoneStrokes = [];\n        this.aspectRatio = 1; // v2.0 - Remove; rely on canvas as source-of-truth\n        this.lineWidth = 5;\n        this.lineColor = \"#000\";\n        this.lineCap = 'round';\n        this.lineJoin = 'round';\n        this.lineMiterLimit = 10;\n        if (el == null) {\n            throw new Error('Must pass in a container element');\n        }\n        if (opts != null) {\n            this.setOptions(opts);\n        }\n        this.canvas = document.createElement('canvas');\n        this.ctx = this.canvas.getContext('2d');\n        var width = (opts === null || opts === void 0 ? void 0 : opts.width) || el.clientWidth;\n        var height = (opts === null || opts === void 0 ? void 0 : opts.height) || width * this.aspectRatio;\n        this.setCanvasSize(width, height);\n        el.appendChild(this.canvas);\n        if (this._strokes.length > 0) {\n            this.redraw();\n        }\n        this.listen();\n    }\n    Object.defineProperty(Sketchpad.prototype, \"strokes\", {\n        // v2.0 - Remove; rename `_strokes`\n        get: function () {\n            return this._strokes.map(function (s) { return s.toObj(); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sketchpad.prototype, \"undos\", {\n        // v2.0 - Remove\n        get: function () {\n            return this.undoneStrokes.map(function (s) { return s.toObj(); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sketchpad.prototype, \"opts\", {\n        // v2.0 - Remove\n        get: function () {\n            return {\n                backgroundColor: this.backgroundColor,\n                width: this.canvas.width,\n                height: this.canvas.height,\n                aspectRatio: this.canvas.width / this.canvas.height,\n                line: {\n                    size: this.lineWidth,\n                    color: this.lineColor,\n                    cap: this.lineCap,\n                    join: this.lineJoin,\n                    miterLimit: this.lineMiterLimit,\n                }\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Convert the sketchpad to a JSON object that can be loaded into\n    // other sketchpads or stored on a server\n    Sketchpad.prototype.toJSON = function () {\n        return {\n            aspectRatio: this.canvas.width / this.canvas.height,\n            strokes: this.strokes\n        };\n    };\n    ;\n    // Load a json object into the sketchpad\n    Sketchpad.prototype.loadJSON = function (data) {\n        var strokeObjs = data.strokes || [];\n        this._strokes = strokeObjs.map(function (s) { return Stroke.fromObj(s); });\n        this.redraw();\n    };\n    ;\n    // Converts to image File\n    Sketchpad.prototype.toDataURL = function (type) {\n        return this.canvas.toDataURL(type);\n    };\n    // Set the size of canvas\n    Sketchpad.prototype.setCanvasSize = function (width, height) {\n        this.canvas.setAttribute('width', width.toString());\n        this.canvas.setAttribute('height', height.toString());\n        this.canvas.style.width = width + 'px';\n        this.canvas.style.height = height + 'px';\n    };\n    // Get the size of the canvas\n    Sketchpad.prototype.getCanvasSize = function () {\n        return {\n            width: this.canvas.width,\n            height: this.canvas.height\n        };\n    };\n    // Set the line width\n    Sketchpad.prototype.setLineWidth = function (width) {\n        this.lineWidth = width;\n    };\n    ;\n    // Set the line width\n    Sketchpad.prototype.setLineSize = function (size) {\n        this.lineWidth = size;\n    };\n    ;\n    // Set the line color\n    Sketchpad.prototype.setLineColor = function (color) {\n        this.lineColor = color;\n    };\n    ;\n    // Undo the last stroke\n    Sketchpad.prototype.undo = function () {\n        if (this._strokes.length === 0) {\n            return;\n        }\n        this.undoneStrokes.push(this._strokes.pop());\n        this.redraw();\n    };\n    // Redo the last undone stroke\n    Sketchpad.prototype.redo = function () {\n        if (this.undoneStrokes.length === 0) {\n            return;\n        }\n        this._strokes.push(this.undoneStrokes.pop());\n        this.redraw();\n    };\n    // Clear the sketchpad\n    Sketchpad.prototype.clear = function () {\n        this.undoneStrokes = [];\n        this._strokes = [];\n        this.redraw();\n    };\n    // Draw a straight line\n    Sketchpad.prototype.drawLine = function (start, end, lineOpts) {\n        this.setOptions({ line: lineOpts });\n        start = this.getPointRelativeToCanvas(new Point(start.x, start.y));\n        end = this.getPointRelativeToCanvas(new Point(end.x, end.y));\n        this.pushStroke([start, end]);\n        this.redraw();\n    };\n    // Resize the canvas maintaining original aspect ratio\n    Sketchpad.prototype.resize = function (width) {\n        var height = width * this.aspectRatio;\n        this.lineWidth = this.lineWidth * (width / this.canvas.width);\n        this.setCanvasSize(width, height);\n        this.redraw();\n    };\n    ;\n    // Returns a points x,y locations relative to the size of the canvas\n    Sketchpad.prototype.getPointRelativeToCanvas = function (point) {\n        return {\n            x: point.x / this.canvas.width,\n            y: point.y / this.canvas.height,\n        };\n    };\n    //  Get the line size relative to the size of the canvas\n    Sketchpad.prototype.getLineSizeRelativeToCanvas = function (width) {\n        return width / this.canvas.width;\n    };\n    Sketchpad.prototype.setOptions = function (opts) {\n        var _a, _b, _c, _d, _e, _f;\n        if (opts.backgroundColor) {\n            this.backgroundColor = opts.backgroundColor;\n        }\n        if ((_a = opts.line) === null || _a === void 0 ? void 0 : _a.size) {\n            this.lineWidth = opts.line.size;\n        }\n        if ((_b = opts.line) === null || _b === void 0 ? void 0 : _b.cap) {\n            this.lineCap = opts.line.cap;\n        }\n        if ((_c = opts.line) === null || _c === void 0 ? void 0 : _c.join) {\n            this.lineJoin = opts.line.join;\n        }\n        if ((_d = opts.line) === null || _d === void 0 ? void 0 : _d.miterLimit) {\n            this.lineMiterLimit = opts.line.miterLimit;\n        }\n        if (opts.aspectRatio) {\n            this.aspectRatio = opts.aspectRatio;\n        }\n        if (opts.data) {\n            this._strokes = (_f = (_e = opts.data.strokes) === null || _e === void 0 ? void 0 : _e.map(function (s) { return Stroke.fromObj(s); })) !== null && _f !== void 0 ? _f : [];\n        }\n        if (opts.onDrawEnd) {\n            this.onDrawEnd = opts.onDrawEnd;\n        }\n    };\n    // For a given event, get the point at which the event occurred\n    // relative to the canvas\n    Sketchpad.prototype.getCursorRelativeToCanvas = function (e) {\n        var point;\n        if (isTouchEvent(e)) {\n            var touchEvent = e;\n            point = new Point(touchEvent.touches[0].pageX - this.canvas.offsetLeft, touchEvent.touches[0].pageY - this.canvas.offsetTop);\n        }\n        else {\n            var mouseEvent = e;\n            var rect = this.canvas.getBoundingClientRect();\n            point = new Point(mouseEvent.clientX - rect.left, mouseEvent.clientY - rect.top);\n        }\n        return new Point(point.x / this.canvas.width, point.y / this.canvas.height);\n    };\n    Sketchpad.prototype.normalizePoint = function (p) {\n        return new Point(p.x * this.canvas.width, p.y * this.canvas.height);\n    };\n    Sketchpad.prototype.getLineWidthRelativeToCanvas = function (size) {\n        return size / this.canvas.width;\n    };\n    Sketchpad.prototype.normalizeLineWidth = function (width) {\n        return width * this.canvas.width;\n    };\n    // Erase the entire canvas\n    Sketchpad.prototype.clearCanvas = function () {\n        this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n        if (this.backgroundColor) {\n            this.ctx.fillStyle = this.backgroundColor;\n            this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n        }\n    };\n    // Draw a single stroke\n    Sketchpad.prototype.drawStroke = function (stroke) {\n        if (stroke.points == null)\n            return;\n        this.ctx.beginPath();\n        for (var i = 0; i < stroke.points.length - 1; i++) {\n            var start = this.normalizePoint(stroke.points[i]);\n            var end = this.normalizePoint(stroke.points[i + 1]);\n            this.ctx.moveTo(start.x, start.y);\n            this.ctx.lineTo(end.x, end.y);\n        }\n        this.ctx.closePath();\n        if (stroke.color) {\n            this.ctx.strokeStyle = stroke.color;\n        }\n        if (stroke.width) {\n            this.ctx.lineWidth = this.normalizeLineWidth(stroke.width);\n        }\n        if (stroke.join) {\n            this.ctx.lineJoin = stroke.join;\n        }\n        if (stroke.cap) {\n            this.ctx.lineCap = stroke.cap;\n        }\n        if (stroke.miterLimit) {\n            this.ctx.miterLimit = stroke.miterLimit;\n        }\n        this.ctx.stroke();\n    };\n    Sketchpad.prototype.pushStroke = function (points) {\n        this._strokes.push(Stroke.fromObj({\n            points: points,\n            size: this.getLineWidthRelativeToCanvas(this.lineWidth),\n            color: this.lineColor,\n            cap: this.lineCap,\n            join: this.lineJoin,\n            miterLimit: this.lineMiterLimit,\n        }));\n    };\n    // Redraw the whole canvas\n    Sketchpad.prototype.redraw = function () {\n        var _this = this;\n        this.clearCanvas();\n        this._strokes.forEach(function (s) { return _this.drawStroke(s); });\n    };\n    Sketchpad.prototype.listen = function () {\n        var _this = this;\n        ['mousedown', 'touchstart'].forEach(function (name) { return _this.canvas.addEventListener(name, function (e) { return _this.startStrokeHandler(e); }); });\n        ['mousemove', 'touchmove'].forEach(function (name) { return _this.canvas.addEventListener(name, function (e) { return _this.drawStrokeHandler(e); }); });\n        ['mouseup', 'mouseleave', 'touchend'].forEach(function (name) { return _this.canvas.addEventListener(name, function (e) { return _this.endStrokeHandler(e); }); });\n    };\n    Sketchpad.prototype.startStrokeHandler = function (e) {\n        e.preventDefault();\n        this.sketching = true;\n        var point = this.getCursorRelativeToCanvas(e);\n        this.pushStroke([point]);\n        this.redraw();\n    };\n    Sketchpad.prototype.drawStrokeHandler = function (e) {\n        var _a;\n        e.preventDefault();\n        if (!this.sketching)\n            return;\n        var point = this.getCursorRelativeToCanvas(e);\n        (_a = this._strokes[this._strokes.length - 1].points) === null || _a === void 0 ? void 0 : _a.push(point);\n        this.redraw();\n    };\n    Sketchpad.prototype.endStrokeHandler = function (e) {\n        var _a;\n        e.preventDefault();\n        if (!this.sketching)\n            return;\n        this.sketching = false;\n        if (isTouchEvent(e)) {\n            return; // touchend events do not have a position\n        }\n        var point = this.getCursorRelativeToCanvas(e);\n        (_a = this._strokes[this._strokes.length - 1].points) === null || _a === void 0 ? void 0 : _a.push(point);\n        this.redraw();\n        if (this.onDrawEnd) {\n            this.onDrawEnd();\n        }\n    };\n    return Sketchpad;\n}());\nexports.default = Sketchpad;\nfunction isTouchEvent(e) {\n    return e.type.indexOf('touch') !== -1; // v2.0 - Switch to startsWith\n}\nvar Point = /** @class */ (function () {\n    function Point(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return Point;\n}());\nvar Stroke = /** @class */ (function () {\n    function Stroke() {\n    }\n    Stroke.fromObj = function (s) {\n        var stroke = new Stroke();\n        stroke.points = s.points;\n        stroke.width = s.size;\n        stroke.color = s.color;\n        stroke.cap = s.cap;\n        stroke.join = s.join;\n        stroke.miterLimit = s.miterLimit;\n        return stroke;\n    };\n    Stroke.prototype.toObj = function () {\n        return {\n            points: this.points,\n            size: this.width,\n            color: this.color,\n            cap: this.cap,\n            join: this.join,\n            miterLimit: this.miterLimit,\n        };\n    };\n    return Stroke;\n}());\n"],"sourceRoot":""}